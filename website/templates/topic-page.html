{% extends "layout.html" %}

{% block title %}CE Simplified{% endblock title%}

{% block head %}
   <link rel="stylesheet" href="{{url_for('static', filename='topic-style.css')}}">
{% endblock head %}

{% block body %}

   <h1 id="middle-title">{{ topic.title }}</h1>
   <div>
      <div class="toogleMenu" id="index-bar">
         Index
         <span class="iconify icon" data-icon="ri:arrow-drop-down-line" data-width="50"></span>
      </div>
      <ol type="1">
         {% for video in videos %}
            <li><p align="center" class="topic-list"><a href="#{{ video.vid }}">{{ video.title }}</a></p></li>
         {% endfor %}
      </ol>
   </div> 

   {% for video in videos %}
      <div class="video-container" id="{{ video.vid }}">
         <p align="center"><iframe width="560" height="315" src="https://www.youtube.com/embed/{{ video.vid }}"
               title="YouTube video player" frameborder="0"
               allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
               allowfullscreen></iframe></p>
         <p align="center" class="video-title">{{ video.title }}</p>
      </div>
   {% endfor %}

   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
   <script src="https://code.iconify.design/2/2.1.2/iconify.min.js"></script>
   <script>
      $(function () {
            toggleMenu();

            function toggleMenu() {
               $(".toogleMenu").click(function () {
                  $(this).children().toggleClass("rotate");
                  $(this).next().slideToggle();
               });
            }
      });
   </script>
{% endblock body %}